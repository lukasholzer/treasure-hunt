<ng-container *ngIf="player$ | async as player">
  <ui-avatar [image]="player.image" [name]="player.name"></ui-avatar>
  {{ lobby$ | async }}
</ng-container>

<h1>Lobby</h1>

<ui-avatar
  *ngFor="let player of activePlayers$ | async"
  [image]="player.image"
  [name]="player.name"
></ui-avatar>

<ng-container *ngIf="lobby$ | async; else loggedOut">
  <div class="actions">
    <button gc-button (click)="_leaveLobby()" *ngIf="lobby$ | async">
      Leave Lobby
    </button>
    <button
      gc-button
      (click)="_startGame()"
      [disabled]="!(gameReady$ | async)"
    >
      Start Game
    </button>
  </div>
</ng-container>

<ng-template #loggedOut>
  <div class="lobby-input">
    <input type="text" [(ngModel)]="lobbyName" />
    <button gc-button (click)="_joinLobby()" [disabled]="lobbyName.length < 2">
      Join Lobby
    </button>
  </div>
</ng-template>
